webpackJsonp([0],{39:function(t,e,s){s(43);var a=s(14)(s(40),s(44),"data-v-dbab0392",null);a.options.__file="/home/shady/Workspace/haze-removal-ui/src/views/index.vue",a.esModule&&Object.keys(a.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),t.exports=a.exports},40:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(42);e.default={data:function(){return{state:"upload",spinShow:!1,showDarkChannel:!0,showA:!0,showTransmission:!0,showTime:!0,refine:!0,windowSize:15,omega:95,image_name:"",result:{},showFullImage:!1,image:""}},methods:{handlePreupload:function(){return""===this.image_name||(this.$Modal.error({title:"上传错误",content:"只能上传一张图片"}),!1)},handleSuccess:function(t){this.image_name=t.name},handleRemove:function(){this.image_name=""},processImage:function(){var t=this;if(""===this.image_name)this.$Modal.error({title:"请求错误",content:"请上传图片"});else{this.spinShow=!0;var e={show_dark:this.showDarkChannel,show_a:this.showA,show_t:this.showTransmission,show_time:this.showTime,refine:this.refine,window_size:this.windowSize,omega:this.omega};a.a.ajax.post("/"+this.image_name,e).then(function(e){t.result=e.data,t.state="result",t.spinShow=!1}).catch(function(e){t.spinShow=!1,t.$Modal.error({title:"请求错误",content:e})})}},gotoUpload:function(){this.state="upload",this.image_name=""},showImage:function(t){this.image=t,this.showFullImage=!0},dismissImage:function(){this.image="",this.showFullImage=!1}}}},41:function(t,e,s){"use strict";e.a="production"},42:function(t,e,s){"use strict";var a=s(5),o=s.n(a),i=s(41),n={};n.title=function(t){t=t?t+" - Home":"iView project",window.document.title=t};var l="development"===i.a?"http://127.0.0.1:5000":"";n.ajax=o.a.create({baseURL:l,timeout:3e4}),e.a=n},43:function(t,e){},44:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"index"},[s("h1",[t._v("单一图像去雾在线演示")]),t._v(" "),"upload"===t.state?s("div",[s("Upload",{attrs:{type:"drag",action:"/upload",name:"file_data","before-upload":t.handlePreupload,"on-success":t.handleSuccess,"on-remove":t.handleRemove}},[s("div",{staticStyle:{padding:"20px 0"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),t._v(" "),s("p",[t._v("点击或将图片拖拽到这里上传")])],1)])],1):s("div",[t.result.config.show_time?s("p",[t._v("总耗时："+t._s(t.result.total_time)+"s (计算耗时："+t._s(t.result.real_time)+"s)")]):t._e(),t._v(" "),t.result.config.show_a?s("p",[t._v("大气光值："+t._s(t.result.atmosphere)+" "),t.result.config.show_time?s("span",[t._v("计算耗时："+t._s(t.result.a_time)+"s")]):t._e()]):t._e(),t._v(" "),s("Row",[s("Col",{staticClass:"image-block",attrs:{span:"12"}},[s("p",[t._v("原图")]),t._v(" "),s("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.result.image_org},on:{click:function(e){t.showImage(t.result.image_org)}}})]),t._v(" "),s("Col",{staticClass:"image-block",attrs:{span:"12"}},[s("p",[t._v("去雾图 "),t.result.config.show_time?s("span",[t._v("计算耗时："+t._s(t.result.res_time)+"s")]):t._e()]),t._v(" "),s("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.result.image_recover},on:{click:function(e){t.showImage(t.result.image_recover)}}})])],1),t._v(" "),s("Row",[t.result.config.show_dark?s("Col",{staticClass:"image-block",attrs:{span:"12"}},[s("p",[t._v("暗通道图 "),t.result.config.show_time?s("span",[t._v("计算耗时："+t._s(t.result.dark_time)+"s")]):t._e()]),t._v(" "),s("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.result.image_dark},on:{click:function(e){t.showImage(t.result.image_dark)}}})]):t._e(),t._v(" "),t.result.config.show_t?s("Col",{staticClass:"image-block",attrs:{span:"12"}},[s("p",[t._v("透射图 "),t.result.config.show_time?s("span",[t._v("计算耗时："+t._s(t.result.t_time)+"s")]):t._e()]),t._v(" "),s("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.result.image_t},on:{click:function(e){t.showImage(t.result.image_t)}}})]):t._e()],1)],1),t._v(" "),t.spinShow?s("Spin",{attrs:{size:"large",fix:""}}):t._e(),t._v(" "),s("br"),t._v(" "),s("h2",[t._v("设置")]),t._v(" "),s("Row",{staticClass:"setting-block"},[s("Col",{attrs:{span:"8"}},[t._v("图像显示")]),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("预设参数")]),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("杂项")])],1),t._v(" "),s("Row",{staticClass:"setting-block"},[s("Col",{attrs:{span:"8"}},[t._v("显示大气光值: "),s("i-switch",{model:{value:t.showA,callback:function(e){t.showA=e},expression:"showA"}})],1),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("细化透射率: "),s("i-switch",{model:{value:t.refine,callback:function(e){t.refine=e},expression:"refine"}})],1),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("显示耗时: "),s("i-switch",{model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}})],1)],1),t._v(" "),s("Row",{staticClass:"setting-block"},[s("Col",{attrs:{span:"8"}},[t._v("显示暗通道图像: "),s("i-switch",{model:{value:t.showDarkChannel,callback:function(e){t.showDarkChannel=e},expression:"showDarkChannel"}})],1),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("窗口大小\n                "),s("Tooltip",{attrs:{content:"决定暗通道图像块大小（经典值：15）",placement:"top"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-help",size:"16"}})],1),t._v(":\n                "),s("Input-number",{attrs:{max:1e3,min:1},model:{value:t.windowSize,callback:function(e){t.windowSize=e},expression:"windowSize"}})],1)],1),t._v(" "),s("Row",{staticClass:"setting-block"},[s("Col",{attrs:{span:"8"}},[t._v("显示透射率: "),s("i-switch",{model:{value:t.showTransmission,callback:function(e){t.showTransmission=e},expression:"showTransmission"}})],1),t._v(" "),s("Col",{attrs:{span:"8"}},[t._v("ω值\n                "),s("Tooltip",{attrs:{content:"ω值即为去雾程度（经典值：95%）",placement:"top"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-help",size:"16"}})],1),t._v(":\n                "),s("Input-number",{attrs:{max:100,min:1,step:1},model:{value:t.omega,callback:function(e){t.omega=e},expression:"omega"}}),t._v("%\n            ")],1)],1),t._v(" "),s("br"),t._v(" "),s("div",{staticStyle:{float:"right","margin-bottom":"20px"}},["result"===t.state?s("Button",{attrs:{type:"success"},on:{click:t.gotoUpload}},[t._v("返回")]):t._e(),t._v(" "),s("Button",{attrs:{type:"primary"},on:{click:t.processImage}},[t._v("处 理")])],1)],1),t._v(" "),t.showFullImage?s("div",{staticClass:"image-view",on:{click:t.dismissImage}},[s("img",{staticStyle:{"max-height":"100%","max-width":"100%","margin-top":"20px"},attrs:{src:t.image}})]):t._e()])},staticRenderFns:[]},t.exports.render._withStripped=!0}});